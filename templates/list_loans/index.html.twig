{% extends 'base.html.twig' %}

{% block title %}List all loans{% endblock %}


{% block navigation %}
<!-- partial:partials/_sidebar.html -->
<nav class="sidebar sidebar-offcanvas" id="sidebar">
  <ul class="nav">
    <li class="nav-item">
      <a class="nav-link" href="/loans/list">
        <i class="typcn typcn-device-desktop menu-icon"></i>
        <span class="menu-title">Find a loan</span>
      </a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="/loans/create">
        <i class="typcn typcn-mortar-board menu-icon"></i>
        <span class="menu-title">Request Loan</span>
      </a>
    </li>
  </ul>
</nav>{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div>
    <h1>Hello {{ controller_name }}! âœ…</h1>

              <div class="row">
                  <div class="card">
                    <div class="table-responsive pt-3">
                      <table class="table table-striped project-orders-table">
                        <thead>
                          <tr>
                            <th class="ml-5">ID</th>
                            <th>Borrower</th>
                            <th>Amount</th>
                            <th>Interest</th>
                            <th>term</th>
                            <th>Status</th>
                            <th>Purpose</th>
                            <th>Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          {% for loan in loans %}
                          <tr>
                            <td>{{ loan.id }}</td>
                            <td>{{ loan.borrower.firstName }} {{ loan.borrower.lastName }}</td>
                            <td>{{ loan.amount }} TND</td>
                            <td>{{ loan.interest }} %</td>
                            <td>{{ loan.term }} months</td>
                            <td>
                            {{ include( 'list_loans/_loan-status.html.twig', {'status':  loan.status.value } ) }}
                            </td>
                            <td>{{ loan.purpose }}</td>
                            <td>{{ (loan.description == null) ? "--" : loan.description }}</td>
                            <td>
                              <div class="d-flex align-items-center">
                                <button type="button" class="btn btn-success btn-sm btn-icon-text mr-3">
                                  Bid
                                  <i class="typcn mdi mdi-cash-usd btn-icon-append"></i>
                                </button>
                              </div>
                            </td>
                          </tr>
                          {% endfor %}

                        </tbody>
                      </table>
                    </div>
                  </div>
              </div>
</div>
{% endblock %}
